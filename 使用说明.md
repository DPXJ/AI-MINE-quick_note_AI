# QuickNote AI - 快速使用指南

## 🚀 首次运行（3步）

### 第1步：安装依赖（如果还没安装）
打开PowerShell或CMD，执行：
```bash
pip install -r requirements.txt
```

### 第2步：配置API密钥 ⚠️ **重要！**

程序第一次运行会创建 `.env` 文件，但需要你手动填入真实的API密钥：

1. **打开 `.env` 文件**（在项目根目录）

2. **配置 OpenAI API Key**：
   ```
   OPENAI_API_KEY=sk-你的真实密钥
   ```
   - 获取地址：https://platform.openai.com/api-keys
   - 注册后创建新的API密钥

3. **配置 Notion**：
   ```
   NOTION_API_KEY=secret_你的密钥
   NOTION_DATABASE_ID=你的数据库ID
   ```
   
   **获取Notion密钥和数据库ID：**
   
   a) **创建Integration（获取API Key）**：
      - 访问：https://www.notion.so/my-integrations
      - 点击 "+ New integration"
      - 复制 "Internal Integration Token"（这就是API Key）
   
   b) **创建Database（获取Database ID）**：
      - 在Notion创建一个新页面
      - 添加一个Database（表格视图）
      - 设置以下列：
        - `标题`（Title）- 主键
        - `状态`（Status）- 状态类型：待办/进行中/完成
        - `优先级`（Select）- 高/中/低
        - `创建时间`（Date）
        - `标签`（Multi-select）
      
      - 点击Database右上角 "..." → "Add connections"
      - 选择你创建的Integration
      
      - 复制Database页面URL，格式：`https://notion.so/xxx/database_id?v=xxx`
      - 中间那串32位字符就是 Database ID

4. **配置 Flomo（可选）**：
   ```
   FLOMO_API_URL=https://flomoapp.com/iwh/你的webhook地址
   ```
   - 打开Flomo App
   - 设置 → API → 复制Webhook URL

### 第3步：启动程序

**方式1：双击运行**
- 双击 `启动.bat` 文件

**方式2：命令行运行**
```bash
python setup_and_run.py
```

或直接：
```bash
python -c "import sys; sys.path.insert(0, '.'); from src.main import main; main()"
```

## ✅ 程序启动成功后

1. **系统托盘会出现图标** 📱
   - 右键图标可以访问菜单
   - 双击图标可以快速输入

2. **快捷键可用** ⌨️
   - `Ctrl+Shift+Space`：打开快速输入窗口
   - `Ctrl+Shift+C`：切换剪切板监控

3. **功能正常** ✨
   - 快速输入 → 保存到Notion
   - 剪切板监控 → AI识别 → 自动分流

## 🔍 检查是否正常运行

### 查看日志
程序运行日志在 `logs/` 目录下，最新的日志文件会记录所有操作和错误。

### 测试功能
1. 按 `Ctrl+Shift+Space`，看是否能弹出输入窗口
2. 输入测试内容，按Enter，看是否保存成功
3. 复制一段文字，看是否能自动识别

## ❓ 常见问题

### Q1: 启动时提示"配置错误"
**原因**：`.env` 文件中API密钥未配置或配置错误

**解决**：
1. 检查 `.env` 文件是否存在
2. 确认API密钥格式正确
3. 确认Notion Database ID正确

### Q2: 快捷键不生效
**解决**：
1. 尝试以管理员身份运行程序
2. 检查快捷键是否与其他程序冲突
3. 在 `config.yaml` 中修改快捷键组合

### Q3: Notion连接失败
**解决**：
1. 确认API Key正确
2. 确认Database ID正确（32位字符串）
3. 确认Integration已连接到Database
4. 在系统托盘右键菜单 → 设置 → 测试连接

### Q4: 剪切板监控不工作
**解决**：
1. 确认剪切板监控已开启（托盘菜单中勾选）
2. 检查内容长度是否符合要求（默认10-5000字符）
3. 查看日志文件了解详细错误信息

## 💡 使用技巧

### 最佳实践
1. **快速输入灵感**：随时按 `Ctrl+Shift+Space` 记录想法
2. **智能分类**：复制的内容会自动AI识别并分流
3. **定期回顾**：在Notion中查看收集的灵感和待办
4. **标签管理**：在Flomo中使用标签体系组织知识

### 自定义配置
编辑 `config.yaml` 可以：
- 修改快捷键
- 调整AI识别规则
- 自定义UI主题
- 修改剪切板监控间隔

## 📞 获取帮助

- 查看详细文档：`INSTALL.md`
- 查看项目结构：`项目结构说明.md`
- 查看运行日志：`logs/` 目录
- 查看设置界面：系统托盘右键 → 设置

---

**祝你使用愉快！让灵感不再溜走 💡**

