# QuickNote AI - 其他电脑运行说明

## 📦 完整分发包

本程序已经打包了所有必要的依赖，**不需要安装 Python 环境**，可以直接运行。

## 🚀 快速开始

### 方法一：直接运行（推荐）

1. **解压文件包**
   - 将整个 `QuickNote_AI_v3.1` 文件夹解压到任意位置
   - **重要**：路径中尽量不要包含中文字符，建议放在 `C:\Program Files\QuickNote_AI\` 或 `D:\QuickNote_AI\`

2. **运行程序**
   - 双击 `QuickNote_AI_v3.1.exe`
   - 程序会最小化到系统托盘（任务栏右下角）
   - **无需提前配置！** 程序可以在没有配置文件的情况下启动

3. **配置 API 密钥（通过设置界面）**
   - 右键系统托盘图标 → 选择"设置"
   - 在设置界面中填入你的API密钥
   - 点击"保存"按钮，配置会自动保存
   - 配置完成后，相关功能即可使用

### 方法二：如果遇到 DLL 错误

如果运行时提示 "找不到 python313.dll" 或类似的 DLL 错误：

1. **安装 Visual C++ Redistributable**
   - 下载并安装：[Microsoft Visual C++ Redistributable](https://aka.ms/vs/17/release/vc_redist.x64.exe)
   - 这是 Windows 运行 Python 程序必需的运行库

2. **检查路径**
   - 确保程序路径中没有特殊字符或中文字符
   - 建议放在：`C:\Program Files\QuickNote_AI_v3.1\`

3. **以管理员身份运行**
   - 右键 `QuickNote_AI_v3.1.exe` → 选择"以管理员身份运行"
   - 全局快捷键功能需要管理员权限

## ⚙️ 配置文件说明

**注意**：配置文件可以通过设置界面自动创建和修改，无需手动编辑。以下说明仅供参考。

### 1. `.env` 文件（自动创建）

程序首次保存配置时会自动创建 `.env` 文件，你也可以手动创建，内容如下：

```env
# AI API配置
OPENAI_API_KEY=your_api_key_here
OPENAI_BASE_URL=https://api.deepseek.com/v1
OPENAI_MODEL=deepseek-chat
AI_PROVIDER=deepseek

# Notion配置
NOTION_API_KEY=your_notion_api_key
NOTION_DATABASE_ID=your_database_id

# Flomo配置（可选）
FLOMO_API_URL=https://flomoapp.com/iwh/your_webhook_url
```

### 2. `config.yaml` 文件（自动创建）

程序首次保存配置时会自动创建 `config.yaml` 文件，你也可以手动创建，内容如下：

```yaml
# 快捷键配置
hotkeys:
  quick_input: ctrl+shift+space
  toggle_clipboard: ctrl+shift+c

# 剪切板监控配置
clipboard:
  enabled: true
  check_interval: 1.0
  min_length: 10
  max_length: 5000

# AI规则配置
ai_rules:
  clipboard_monitor: true
```

## 🔧 常见问题

### Q1: 程序无法启动，提示找不到 DLL

**解决方法**：
1. 安装 [Visual C++ Redistributable](https://aka.ms/vs/17/release/vc_redist.x64.exe)
2. 确保程序路径中没有中文字符
3. 以管理员身份运行

### Q2: 快捷键不工作

**解决方法**：
1. 以管理员身份运行程序
2. 检查快捷键是否与其他程序冲突
3. 在设置中重新设置快捷键

### Q3: 程序闪退

**解决方法**：
1. 检查 `logs` 文件夹中的日志文件
2. 通过设置界面检查配置是否正确
3. 检查 API 密钥是否正确配置
4. 如果配置文件损坏，可以删除 `.env` 和 `config.yaml`，然后通过设置界面重新配置

### Q4: 无法连接到 API

**解决方法**：
1. 检查网络连接
2. 验证 API 密钥是否正确
3. 检查防火墙设置

## 📝 文件结构

```
QuickNote_AI_v3.1/
├── QuickNote_AI_v3.1.exe    # 主程序
├── _internal/                # 依赖文件（不要删除！）
│   ├── python313.dll        # Python 运行时
│   ├── base_library.zip     # Python 标准库
│   └── ...                  # 其他依赖文件
├── config.yaml              # 配置文件（需要创建）
├── .env                     # 环境变量配置（需要创建）
└── logs/                    # 日志文件夹（自动创建）
```

## ⚠️ 重要提示

1. **不要删除 `_internal` 文件夹**：这是程序运行必需的依赖文件
2. **路径建议**：避免使用包含中文字符的路径，建议使用英文路径
3. **管理员权限**：全局快捷键功能需要管理员权限
4. **防火墙**：首次运行时，Windows 防火墙可能会询问，请选择"允许"
5. **配置文件**：可以通过设置界面配置，无需手动编辑文件

## 🆘 技术支持

如果遇到问题：
1. 查看 `logs` 文件夹中的日志文件
2. 确保已安装 Visual C++ Redistributable
3. 尝试以管理员身份运行
4. 检查配置文件是否正确

祝使用愉快！🎉

